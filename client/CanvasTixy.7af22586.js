import{S as t,i as n,s as i,u as e,w as s,x as a,d as r,A as o,f as u,B as c,F as h,n as l,L as d,p}from"./client.9c352b4c.js";class w{constructor(t,n,i=16,e=1,s=null){this.name=t,this.code=n,this.n=i,this.speed=e,this.comments=s||new Array(t)}}const f={sin_up:new w("Sinus up","return Math.sin(y/8+t);",16),pulse:new w("Pulse","return Math.sin(t);",16,.7),noise:new w("Random noise","return Math.random() < 0.1;"),ripple_in:new w("Ripple In","return Math.sin(Math.sqrt(Math.pow(n/2-x,2)+Math.pow(n/2-y,2))+t);",32,2),ripple_circ:new w("Circular Ripple","let radius = n/4;return Math.sin(Math.sqrt(Math.pow(n/2-x+Math.sin(t)*radius,2)+Math.pow(n/2-y+Math.cos(t)*radius,2))+t);",32,.5),"tut-start":new w("","return Math.sin(y/8+t);",16,1,['Inspired by <a href="https://tixy.land">tixy.land</a>',"Start the tutorial by clicking the dots"]),"tut-visibility":new w("","return i%3 == 0;",16,1,["0/1 = false/true => hide/show dot"]),"tut-scale":new w("","return i%3 == 0 ? -0.3 : (i%3 == 1 ? 0.5 : -1);",16,1,["scale dots between -1 and 1","negatively scaled dots are red"]),"tut-time":new w("","return Math.sin(t);",16,1,["t is the time in seconds"]),"tut-index":new w("","return i/256;",16,1,["'i' is the index"])},y=["sin_up","pulse","noise","ripple_in","ripple_circ"],m=["tut-start","tut-visibility","tut-scale","tut-time","tut-index"];function M(t){return f[t]}function x(t){let n,i,l,d;return{c(){n=e("canvas"),this.h()},l(t){n=s(t,"CANVAS",{width:!0,height:!0,class:!0}),a(n).forEach(r),this.h()},h(){o(n,"width",i=t[0]+","),o(n,"height",t[0]),o(n,"class","svelte-szljto")},m(i,e){u(i,n,e),t[9](n),l||(d=c(n,"click",t[10]),l=!0)},p(t,[e]){1&e&&i!==(i=t[0]+",")&&o(n,"width",i),1&e&&o(n,"height",t[0])},i:h,o:h,d(i){i&&r(n),t[9](null),l=!1,d()}}}function v(t,n,i){var e=this&&this.__awaiter||function(t,n,i,e){return new(i||(i=Promise))((function(s,a){function r(t){try{u(e.next(t))}catch(t){a(t)}}function o(t){try{u(e.throw(t))}catch(t){a(t)}}function u(t){var n;t.done?s(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(r,o)}u((e=e.apply(t,n||[])).next())}))};let s,a,r,{code:o}=n,{n:u}=n,{time:c}=n,{resolution:h=1800}=n,w=l();function f(t,n){a.clearRect(0,0,s.width,s.height);for(let s=0;s<u;s++)for(let c=0;c<u;c++){const h=(i=r(t,s*u+c,c,s,u),e=-1,o=1,Math.min(Math.max(i,e),o));n(a,c,s,Math.abs(h),h<0?"#FF0000":"#FFFFFF")}var i,e,o}d((()=>e(void 0,void 0,void 0,(function*(){i(6,a=s.getContext("2d")),i(6,a.imageSmoothingEnabled=!0,a)}))));let y,m;return t.$$set=t=>{"code"in t&&i(3,o=t.code),"n"in t&&i(4,u=t.n),"time"in t&&i(5,c=t.time),"resolution"in t&&i(0,h=t.resolution)},t.$$.update=()=>{if(17&t.$$.dirty&&i(7,y=h/u/2),128&t.$$.dirty&&i(8,m=2*y),8&t.$$.dirty)try{r=new Function("t","i","x","y","n",`\n\t\t\t\ttry {\n\t\t\t\t\t{${o}};\n\t\t\t\t} catch(e) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t`)}catch(t){r=()=>1}480&t.$$.dirty&&a&&f(c,((t,n,i,e,s)=>function(t,n,i,e,s){t.fillStyle=s,t.beginPath(),t.arc(n,i,e,0,2*Math.PI),t.fill()}(t,y+n*m,y+i*m,y*e,s)))},[h,s,w,o,u,c,a,y,m,function(t){p[t?"unshift":"push"]((()=>{s=t,i(1,s)}))},()=>w("click")]}class $ extends t{constructor(t){super(),n(this,t,v,x,i,{code:3,n:4,time:5,resolution:0})}}export{$ as C,y as a,M as g,m as t};
