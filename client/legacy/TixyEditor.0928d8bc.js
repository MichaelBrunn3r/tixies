import{_ as n,a as t,b as e,c as r,i as o,s as c,d as i,S as a,p as u,r as f,u as s,g as l,k as v,v as p,l as d,w as $,n as h,x as m,t as g,y,z as x,A as w,B as R,C as S,D as E,E as D,f as I,e as C,j as P,h as k,F as b,m as V,G as M,H as O,o as T,I as A,J as N,K as F,L as j,M as B,N as K,O as _,P as q,Q as L}from"./client.f745d15d.js";import{i as U,C as W,t as z}from"./CanvasTixy.4db493bc.js";function G(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var o,c=t(n);if(r){var i=t(this).constructor;o=Reflect.construct(c,arguments,i)}else o=c.apply(this,arguments);return e(this,o)}}var H=function(n){return{}},J=function(n){return{}},Q=function(n){return{}},Y=function(n){return{}};function X(n){var t,e=n[3].off,r=y(e,n,n[2],J);return{c:function(){r&&r.c()},l:function(n){r&&r.l(n)},m:function(n,e){r&&r.m(n,e),t=!0},p:function(n,t){r&&r.p&&4&t&&x(r,e,n,n[2],t,H,J)},i:function(n){t||(g(r,n),t=!0)},o:function(n){h(r,n),t=!1},d:function(n){r&&r.d(n)}}}function Z(n){var t,e=n[3].on,r=y(e,n,n[2],Y);return{c:function(){r&&r.c()},l:function(n){r&&r.l(n)},m:function(n,e){r&&r.m(n,e),t=!0},p:function(n,t){r&&r.p&&4&t&&x(r,e,n,n[2],t,Q,Y)},i:function(n){t||(g(r,n),t=!0)},o:function(n){h(r,n),t=!1},d:function(n){r&&r.d(n)}}}function nn(n){var t,e,r,o,c,i,a=[Z,X],y=[];function x(n,t){return n[0]?0:1}return e=x(n),r=y[e]=a[e](n),{c:function(){t=u("button"),r.c()},l:function(n){t=f(n,"BUTTON",{});var e=s(t);r.l(e),e.forEach(l)},m:function(r,a){v(r,t,a),y[e].m(t,null),o=!0,c||(i=p(t,"click",n[1]),c=!0)},p:function(n,o){var c=d(o,1)[0],i=e;(e=x(n))===i?y[e].p(n,c):($(),h(y[i],1,1,(function(){y[i]=null})),m(),(r=y[e])?r.p(n,c):(r=y[e]=a[e](n)).c(),g(r,1),r.m(t,null))},i:function(n){o||(g(r),o=!0)},o:function(n){h(r),o=!1},d:function(n){n&&l(t),y[e].d(),c=!1,i()}}}function tn(n,t,e){var r=t.$$slots,o=void 0===r?{}:r,c=t.$$scope,i=t.isOn,a=void 0!==i&&i;return n.$$set=function(n){"isOn"in n&&e(0,a=n.isOn),"$$scope"in n&&e(2,c=n.$$scope)},[a,function(){e(0,a=!a)},c,o]}var en=function(t){n(u,a);var e=G(u);function u(n){var t;return r(this,u),t=e.call(this),o(i(t),n,tn,nn,c,{isOn:0}),t}return u}();function rn(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var o,c=t(n);if(r){var i=t(this).constructor;o=Reflect.construct(c,arguments,i)}else o=c.apply(this,arguments);return e(this,o)}}function on(n){var t,e,r,o,c=n[5].default,i=y(c,n,n[4],null);return{c:function(){t=u("button"),i&&i.c()},l:function(n){t=f(n,"BUTTON",{});var e=s(t);i&&i.l(e),e.forEach(l)},m:function(c,a){v(c,t,a),i&&i.m(t,null),e=!0,r||(o=[p(t,"mousedown",n[0]),p(t,"mouseup",n[1]),p(t,"mouseleave",n[1])],r=!0)},p:function(n,t){var e=d(t,1)[0];i&&i.p&&16&e&&x(i,c,n,n[4],e,null,null)},i:function(n){e||(g(i,n),e=!0)},o:function(n){h(i,n),e=!1},d:function(n){n&&l(t),i&&i.d(n),r=!1,w(o)}}}function cn(n,t,e){var r,o,c=t.$$slots,i=void 0===c?{}:c,a=t.$$scope,u=t.isPressed,f=void 0!==u&&u,s=t.tickInterval,l=void 0===s?10:s,v=R();return S((function(){return function(){r&&clearInterval(r)}})),n.$$set=function(n){"isPressed"in n&&e(2,f=n.isPressed),"tickInterval"in n&&e(3,l=n.tickInterval),"$$scope"in n&&e(4,a=n.$$scope)},[function(){e(2,f=!0),v("pressStart"),o=window.performance.now(),r=setInterval((function(){var n=window.performance.now()-o;v("tick",{start:o,elapsed:n})}),l)},function(){e(2,f=!1),v("pressEnd"),clearInterval(r),r=void 0},f,l,a,i]}var an=function(t){n(u,a);var e=rn(u);function u(n){var t;return r(this,u),t=e.call(this),o(i(t),n,cn,on,c,{isPressed:2,tickInterval:3}),t}return u}();function un(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var o,c=t(n);if(r){var i=t(this).constructor;o=Reflect.construct(c,arguments,i)}else o=c.apply(this,arguments);return e(this,o)}}function fn(n){var t;return{c:function(){t=A("<<")},l:function(n){t=N(n,"<<")},m:function(n,e){v(n,t,e)},d:function(n){n&&l(t)}}}function sn(n){var t,e;return{c:function(){t=u("span"),e=A("||"),this.h()},l:function(n){t=f(n,"SPAN",{slot:!0});var r=s(t);e=N(r,"||"),r.forEach(l),this.h()},h:function(){b(t,"slot","on")},m:function(n,r){v(n,t,r),M(t,e)},d:function(n){n&&l(t)}}}function ln(n){var t,e;return{c:function(){t=u("span"),e=A("►"),this.h()},l:function(n){t=f(n,"SPAN",{slot:!0});var r=s(t);e=N(r,"►"),r.forEach(l),this.h()},h:function(){b(t,"slot","off")},m:function(n,r){v(n,t,r),M(t,e)},d:function(n){n&&l(t)}}}function vn(n){var t;return{c:function(){t=C()},l:function(n){t=k(n)},m:function(n,e){v(n,t,e)},p:F,d:function(n){n&&l(t)}}}function pn(n){var t;return{c:function(){t=A(">>")},l:function(n){t=N(n,">>")},m:function(n,e){v(n,t,e)},d:function(n){n&&l(t)}}}function dn(n){var t,e,r,o,c,i,a,p;function $(t){n[4].call(null,t)}(e=new an({props:{$$slots:{default:[fn]},$$scope:{ctx:n}}})).$on("pressStart",n[3]),e.$on("tick",n[2]);var m={$$slots:{default:[vn],off:[ln],on:[sn]},$$scope:{ctx:n}};return void 0!==n[0]&&(m.isOn=n[0]),o=new en({props:m}),E.push((function(){return D(o,"isOn",$)})),(a=new an({props:{$$slots:{default:[pn]},$$scope:{ctx:n}}})).$on("pressStart",n[5]),a.$on("tick",n[2]),{c:function(){t=u("div"),I(e.$$.fragment),r=C(),I(o.$$.fragment),i=C(),I(a.$$.fragment),this.h()},l:function(n){t=f(n,"DIV",{class:!0});var c=s(t);P(e.$$.fragment,c),r=k(c),P(o.$$.fragment,c),i=k(c),P(a.$$.fragment,c),c.forEach(l),this.h()},h:function(){b(t,"class","svelte-8s7i5")},m:function(n,c){v(n,t,c),V(e,t,null),M(t,r),V(o,t,null),M(t,i),V(a,t,null),p=!0},p:function(n,t){var r=d(t,1)[0],i={};256&r&&(i.$$scope={dirty:r,ctx:n}),e.$set(i);var u={};256&r&&(u.$$scope={dirty:r,ctx:n}),!c&&1&r&&(c=!0,u.isOn=n[0],O((function(){return c=!1}))),o.$set(u);var f={};256&r&&(f.$$scope={dirty:r,ctx:n}),a.$set(f)},i:function(n){p||(g(e.$$.fragment,n),g(o.$$.fragment,n),g(a.$$.fragment,n),p=!0)},o:function(n){h(e.$$.fragment,n),h(o.$$.fragment,n),h(a.$$.fragment,n),p=!1},d:function(n){n&&l(t),T(e),T(o),T(a)}}}function $n(n,t,e){var r,o=t.playing,c=R();function i(n){e(0,o=!1),r=n}return n.$$set=function(n){"playing"in n&&e(0,o=n.playing)},n.$$.update=function(){1&n.$$.dirty&&c("toggle",o)},[o,i,function(n){var t=n.detail.elapsed,e=1;t>10&&(e=Math.min(100,Math.pow(2,t/200))),c(r,e)},function(){return i("backwards")},function(n){e(0,o=n)},function(){return i("forwards")}]}var hn=function(t){n(u,a);var e=un(u);function u(n){var t;return r(this,u),t=e.call(this),o(i(t),n,$n,dn,c,{playing:0}),t}return u}();function mn(n){var t,e=0,r=n.ownerDocument||n.document,o=r.defaultView||r.parentWindow;if(void 0!==o.getSelection){if((t=o.getSelection()).rangeCount>0){var c=o.getSelection().getRangeAt(0),i=c.cloneRange();i.selectNodeContents(n),i.setEnd(c.endContainer,c.endOffset),e=i.toString().length}}else if((t=r.selection)&&"Control"!=t.type){var a=t.createRange(),u=r.body.createTextRange();u.moveToElementText(n),u.setEndPoint("EndToEnd",a),e=u.text.length}return e}function gn(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var o,c=t(n);if(r){var i=t(this).constructor;o=Reflect.construct(c,arguments,i)}else o=c.apply(this,arguments);return e(this,o)}}function yn(n){var t,e,r;return{c:function(){t=u("span"),this.h()},l:function(n){t=f(n,"SPAN",{class:!0,contenteditable:!0}),s(t).forEach(l),this.h()},h:function(){b(t,"class","input"),b(t,"contenteditable","true")},m:function(o,c){v(o,t,c),n[11](t),e||(r=[p(t,"input",n[2]),p(t,"keydown",n[1])],e=!0)},p:F,i:F,o:F,d:function(o){o&&l(t),n[11](null),e=!1,w(r)}}}function xn(n,t,e){var r,o,c,i=this&&this.__awaiter||function(n,t,e,r){return new(e||(e=Promise))((function(o,c){function i(n){try{u(r.next(n))}catch(n){c(n)}}function a(n){try{u(r.throw(n))}catch(n){c(n)}}function u(n){n.done?o(n.value):function(n){return n instanceof e?n:new e((function(t){t(n)}))}(n.value).then(i,a)}u((r=r.apply(n,t||[])).next())}))},a=t.value,u=void 0===a?0:a,f=t.defaultVal,s=void 0===f?0:f,l=t.min,v=void 0===l?void 0:l,p=t.max,d=void 0===p?void 0:p,$=t.step,h=void 0===$?1:$,m=t.altStep,g=void 0===m?null:m,y=t.shiftStep,x=void 0===y?null:y,w=t.decimals,R=void 0===w?0:w;function D(n){return""+Math.round(n*c)/c}function I(n){return Math.round(parseFloat(n)*c)/c}function C(n){n.cancelable&&n.preventDefault();var t=h;null!=g&&n.altKey&&(t=g),null!=x&&n.shiftKey&&(t=x);var r=u+Math.sign(-1*n.deltaY)*t;v&&(r=Math.max(v,r)),d&&(r=Math.min(d,r)),e(3,u=r)}return S((function(){r.addEventListener("wheel",C)})),n.$$set=function(n){"value"in n&&e(3,u=n.value),"defaultVal"in n&&e(4,s=n.defaultVal),"min"in n&&e(5,v=n.min),"max"in n&&e(6,d=n.max),"step"in n&&e(7,h=n.step),"altStep"in n&&e(8,g=n.altStep),"shiftStep"in n&&e(9,x=n.shiftStep),"decimals"in n&&e(10,R=n.decimals)},n.$$.update=function(){1024&n.$$.dirty&&(c=Math.pow(10,R)),9&n.$$.dirty&&r&&e(0,r.textContent=D(u),r)},[r,function(n){""!=n.key.replace(/\s/g,"")?o=mn(r):n.preventDefault()},function(n){return i(this,void 0,void 0,j.mark((function n(){var t,c,i,a,f;return j.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=mn(r),c=I(r.textContent),i=r.textContent,U(i)?""===i?(c=s,t=1):i.startsWith("0")&&(a=i.replace(/\D|^0+/g,""),f=i.length-a.length,c=I(i),t-=f):(c=u,t=o),v&&(c=Math.max(v,c)),d&&(c=Math.min(d,c)),e(3,u=c),e(0,r.textContent=D(u),r),n.next=10,B();case 10:l=r,p=Math.min(t,r.textContent.length),$=void 0,h=void 0,$=document.createRange(),h=window.getSelection(),$.setStart(l.childNodes[0],p),$.collapse(!0),h.removeAllRanges(),h.addRange($);case 11:case"end":return n.stop()}var l,p,$,h}),n)})))},u,s,v,d,h,g,x,R,function(n){E[n?"unshift":"push"]((function(){e(0,r=n),e(3,u)}))}]}var wn=function(t){n(u,a);var e=gn(u);function u(n){var t;return r(this,u),t=e.call(this),o(i(t),n,xn,yn,c,{value:3,defaultVal:4,min:5,max:6,step:7,altStep:8,shiftStep:9,decimals:10}),t}return u}();function Rn(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var o,c=t(n);if(r){var i=t(this).constructor;o=Reflect.construct(c,arguments,i)}else o=c.apply(this,arguments);return e(this,o)}}function Sn(n,t,e){var r=n.slice();return r[19]=t[e],r}function En(n){var t,e,r,o=n[19]+"";return{c:function(){t=u("p"),e=A("// "),this.h()},l:function(n){t=f(n,"P",{class:!0});var r=s(t);e=N(r,"// "),r.forEach(l),this.h()},h:function(){r=new K(null),b(t,"class","comment svelte-vnmxa")},m:function(n,c){v(n,t,c),M(t,e),r.m(o,t)},p:function(n,t){32&t&&o!==(o=n[19]+"")&&r.p(o)},d:function(n){n&&l(t)}}}function Dn(n){var t,e,r,o,c,i,a,$,m,y,x,w,R,S,F,j,B,K,U,z,G,H,J,Q,Y,X,Z,nn,tn,en,rn,on,cn,an;function un(t){n[11].call(null,t)}var fn={code:n[4],n:n[2],frame:n[1],speed:n[3]};function sn(t){n[13].call(null,t)}void 0!==n[0]&&(fn.hasErrorInCode=n[0]),e=new W({props:fn}),E.push((function(){return D(e,"hasErrorInCode",un)})),e.$on("click",n[12]);var ln={step:10,shiftStep:100,altStep:1};function vn(t){n[14].call(null,t)}void 0!==n[1]&&(ln.value=n[1]),$=new wn({props:ln}),E.push((function(){return D($,"value",sn)}));var pn={};function dn(t){n[15].call(null,t)}void 0!==n[6]&&(pn.playing=n[6]),x=new hn({props:pn}),E.push((function(){return D(x,"playing",vn)})),x.$on("forwards",n[8]),x.$on("backwards",n[9]);var $n={shiftStep:10};function mn(t){n[16].call(null,t)}void 0!==n[3]&&($n.value=n[3]),j=new wn({props:$n}),E.push((function(){return D(j,"value",dn)}));var gn={shiftStep:10};void 0!==n[2]&&(gn.value=n[2]),U=new wn({props:gn}),E.push((function(){return D(U,"value",mn)}));for(var yn=n[5],xn=[],Rn=0;Rn<yn.length;Rn+=1)xn[Rn]=En(Sn(n,yn,Rn));return{c:function(){t=u("div"),I(e.$$.fragment),o=C(),c=u("div"),i=u("div"),a=A("Frame:"),I($.$$.fragment),y=C(),I(x.$$.fragment),R=C(),S=u("div"),F=A("Speed:"),I(j.$$.fragment),K=A("\r\n\t\t\t, Dots:"),I(U.$$.fragment),G=C(),H=u("div");for(var n=0;n<xn.length;n+=1)xn[n].c();J=C(),Q=u("div"),Y=u("p"),X=A("(t,i,x,y,n) => {"),Z=C(),nn=u("div"),tn=C(),en=u("p"),rn=A("}"),this.h()},l:function(n){t=f(n,"DIV",{class:!0});var r=s(t);P(e.$$.fragment,r),o=k(r),c=f(r,"DIV",{class:!0});var u=s(c);i=f(u,"DIV",{class:!0});var v=s(i);a=N(v,"Frame:"),P($.$$.fragment,v),v.forEach(l),y=k(u),P(x.$$.fragment,u),R=k(u),S=f(u,"DIV",{class:!0});var p=s(S);F=N(p,"Speed:"),P(j.$$.fragment,p),K=N(p,"\r\n\t\t\t, Dots:"),P(U.$$.fragment,p),p.forEach(l),u.forEach(l),G=k(r),H=f(r,"DIV",{class:!0});for(var d=s(H),h=0;h<xn.length;h+=1)xn[h].l(d);J=k(d),Q=f(d,"DIV",{class:!0});var m=s(Q);Y=f(m,"P",{class:!0});var g=s(Y);X=N(g,"(t,i,x,y,n) => {"),g.forEach(l),Z=k(m),nn=f(m,"DIV",{class:!0,contenteditable:!0}),s(nn).forEach(l),tn=k(m),en=f(m,"P",{class:!0});var w=s(en);rn=N(w,"}"),w.forEach(l),m.forEach(l),d.forEach(l),r.forEach(l),this.h()},h:function(){b(i,"class","param-control-wrapper svelte-vnmxa"),b(S,"class","param-control-wrapper svelte-vnmxa"),b(c,"class","control-wrapper svelte-vnmxa"),b(Y,"class","code svelte-vnmxa"),b(nn,"class","code-input code svelte-vnmxa"),b(nn,"contenteditable","true"),void 0===n[4]&&_((function(){return n[17].call(nn)})),b(en,"class","code svelte-vnmxa"),b(Q,"class","svelte-vnmxa"),q(Q,"error",n[0]),b(H,"class","input-wrapper svelte-vnmxa"),b(t,"class","wrapper svelte-vnmxa")},m:function(r,u){v(r,t,u),V(e,t,null),M(t,o),M(t,c),M(c,i),M(i,a),V($,i,null),M(c,y),V(x,c,null),M(c,R),M(c,S),M(S,F),V(j,S,null),M(S,K),V(U,S,null),M(t,G),M(t,H);for(var f=0;f<xn.length;f+=1)xn[f].m(H,null);M(H,J),M(H,Q),M(Q,Y),M(Y,X),M(Q,Z),M(Q,nn),void 0!==n[4]&&(nn.textContent=n[4]),M(Q,tn),M(Q,en),M(en,rn),on=!0,cn||(an=p(nn,"input",n[17]),cn=!0)},p:function(n,t){var o=d(t,1)[0],c={};16&o&&(c.code=n[4]),4&o&&(c.n=n[2]),2&o&&(c.frame=n[1]),8&o&&(c.speed=n[3]),!r&&1&o&&(r=!0,c.hasErrorInCode=n[0],O((function(){return r=!1}))),e.$set(c);var i={};!m&&2&o&&(m=!0,i.value=n[1],O((function(){return m=!1}))),$.$set(i);var a={};!w&&64&o&&(w=!0,a.playing=n[6],O((function(){return w=!1}))),x.$set(a);var u={};!B&&8&o&&(B=!0,u.value=n[3],O((function(){return B=!1}))),j.$set(u);var f={};if(!z&&4&o&&(z=!0,f.value=n[2],O((function(){return z=!1}))),U.$set(f),32&o){var s;for(yn=n[5],s=0;s<yn.length;s+=1){var l=Sn(n,yn,s);xn[s]?xn[s].p(l,o):(xn[s]=En(l),xn[s].c(),xn[s].m(H,J))}for(;s<xn.length;s+=1)xn[s].d(1);xn.length=yn.length}16&o&&n[4]!==nn.textContent&&(nn.textContent=n[4]),1&o&&q(Q,"error",n[0])},i:function(n){on||(g(e.$$.fragment,n),g($.$$.fragment,n),g(x.$$.fragment,n),g(j.$$.fragment,n),g(U.$$.fragment,n),on=!0)},o:function(n){h(e.$$.fragment,n),h($.$$.fragment,n),h(x.$$.fragment,n),h(j.$$.fragment,n),h(U.$$.fragment,n),on=!1},d:function(n){n&&l(t),T(e),T($),T(x),T(j),T(U),L(xn,n),cn=!1,an()}}}function In(n,t,e){var r,o,c,i,a,u=t.tixyId,f=R(),s=0,l=!0;S((function(){var n;return n=requestAnimationFrame((function t(r){l&&e(1,s++,s),n=requestAnimationFrame(t)})),function(){cancelAnimationFrame(n)}}));return n.$$set=function(n){"tixyId"in n&&e(10,u=n.tixyId)},n.$$.update=function(){var t;1024&n.$$.dirty&&u&&(t=z.get(u),e(2,r=t.n),e(3,o=t.speed),e(4,c=t.code),e(5,i=t.comments),e(6,l=!0)),1&n.$$.dirty&&e(6,l=!a)},[a,s,r,o,c,i,l,f,function(n){e(1,s+=n.detail)},function(n){e(1,s-=n.detail)},u,function(n){e(0,a=n)},function(){return f("clickTixy")},function(n){e(1,s=n)},function(n){e(6,l=n),e(0,a)},function(n){e(3,o=n)},function(n){e(2,r=n)},function(){c=this.textContent,e(4,c)}]}var Cn=function(t){n(u,a);var e=Rn(u);function u(n){var t;return r(this,u),t=e.call(this),o(i(t),n,In,Dn,c,{tixyId:10}),t}return u}();export{Cn as T};
