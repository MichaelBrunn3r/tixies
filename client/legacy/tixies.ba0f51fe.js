import{_ as t,a as n,b as e,c as i,i as r,s,d as a,S as u,y as o,A as c,B as h,g as f,E as l,k as d,F as p,l as w,J as y,v,T as m,M as x,w as g}from"./client.ee6f62e4.js";function $(t,n,e,i,r){t.fillStyle=r,t.beginPath(),t.arc(n,e,i,0,2*Math.PI),t.fill()}function F(t){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,s=n(t);if(i){var a=n(this).constructor;r=Reflect.construct(s,arguments,a)}else r=s.apply(this,arguments);return e(this,r)}}function b(t){var n,e,i,r;return{c:function(){n=o("canvas"),this.h()},l:function(t){n=c(t,"CANVAS",{width:!0,height:!0,class:!0}),h(n).forEach(f),this.h()},h:function(){l(n,"width",e=t[0]+","),l(n,"height",t[0]),l(n,"class","svelte-szljto")},m:function(e,s){d(e,n,s),t[10](n),i||(r=p(n,"click",t[11]),i=!0)},p:function(t,i){var r=w(i,1)[0];1&r&&e!==(e=t[0]+",")&&l(n,"width",e),1&r&&l(n,"height",t[0])},i:y,o:y,d:function(e){e&&f(n),t[10](null),i=!1,r()}}}function k(t,n,e){var i,r,s,a=this&&this.__awaiter||function(t,n,e,i){return new(e||(e=Promise))((function(r,s){function a(t){try{o(i.next(t))}catch(t){s(t)}}function u(t){try{o(i.throw(t))}catch(t){s(t)}}function o(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,u)}o((i=i.apply(t,n||[])).next())}))},u=n.time,o=n.speed,c=n.code,h=n.n,f=n.resolution,l=void 0===f?1800:f,d=v();function p(t,n){r.clearRect(0,0,i.width,i.height);for(var e=0;e<n;e++)for(var a=0;a<n;a++){var u=(c=s(t,e*n+a,a,e,n),h=-1,f=1,Math.min(Math.max(c,h),f)),o=u<0?"#FF0000":"#FFFFFF";$(r,y+a*F,y+e*F,y*Math.abs(u),o)}var c,h,f}m((function(){return a(void 0,void 0,void 0,x.mark((function t(){return x.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(7,r=i.getContext("2d")),e(7,r.imageSmoothingEnabled=!0,r);case 2:case"end":return t.stop()}}),t)})))}));var w,y,F;return t.$$set=function(t){"time"in t&&e(3,u=t.time),"speed"in t&&e(4,o=t.speed),"code"in t&&e(5,c=t.code),"n"in t&&e(6,h=t.n),"resolution"in t&&e(0,l=t.resolution)},t.$$.update=function(){if(24&t.$$.dirty&&e(8,w=u/o/1e3),65&t.$$.dirty&&e(9,y=l/h/2),512&t.$$.dirty&&(F=2*y),32&t.$$.dirty)try{s=new Function("t","i","x","y","n","\n\t\t\t\ttry {\n\t\t\t\t\twith(Math) {\n\t\t\t\t\t\t".concat(c,"\n\t\t\t\t\t};\n\t\t\t\t} catch(e) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t"))}catch(t){s=function(){return 1}}224&t.$$.dirty&&r&&c&&p(1,h),464&t.$$.dirty&&r&&0!=o&&p(w,h)},[l,i,d,u,o,c,h,r,w,y,function(t){g[t?"unshift":"push"]((function(){e(1,i=t)}))},function(){return d("click")}]}var S=function(n){t(o,u);var e=F(o);function o(t){var n;return i(this,o),n=e.call(this),r(a(n),t,k,b,s,{time:3,speed:4,code:5,n:6,resolution:0}),n}return o}();class R{constructor(t,n,e=16,i=1,r=null){this.name=t,this.code=n,this.n=e,this.speed=i,this.comments=r||new Array(t)}}const _={},C=[],M=[];function P(t,n){_[t]=n,C.push(t)}function A(t,n){_[t]=n,M.push(t)}function E(t){return _[t]}P("sweep_up",new R("Sweep up","return sin(y/8+t);",16)),P("pulse",new R("Pulse","return sin(t);",16)),P("ripple_in",new R("Ripple In","return sin(sqrt(pow(n/2-x-0.5,2)+pow(n/2-y-0.5,2))+t);",16)),P("ripple_circ",new R("Circular Ripple","let radius = n/4;return sin(sqrt(pow(n/2-x-0.5+sin(t)*radius,2)+pow(n/2-y-0.5+cos(t)*radius,2))+t);",16)),P("triangle",new R("Triangle","return y+1>x && n-2-y<x;",16,0)),P("triangle-up",new R("Flying Triangle","let h=t*3%n;return y>x-h && y>n-1-x-h && y<n-h;",16)),P("grid",new R("Grid","return x%4 && y%4",16)),P("sirpinski",new R('<a href="https://en.wikipedia.org/wiki/Sierpi%C5%84ski_triangle">Sirpinski </a>',"return i & x & y & t*2",16)),A("tut-start",new R("","return sin(y/8+t);",16,1,['Inspired by <a href="https://tixy.land">tixy.land</a>',"Start the tutorial by clicking the dots"])),A("tut-visibility",new R("","return i%3 == 0;",16,0,["0/1 = false/true => hide/show dots"])),A("tut-scale",new R("","return abs(sin(x/3))",16,0,["use a number from 0 to 1 to define the dot size"])),A("tut-time",new R("","return sin(t);",16,1,["'t' is the time in seconds"])),A("tut-index",new R("","return i/pow(n,2);",16,0,["'i' is the index of the dot, from 0 to nÂ²-1"])),A("tut-x",new R("","return x/n;",16,0,["'x' is the column, 0..n-1"])),A("tut-y",new R("","return y/n;",16,0,["'y' is the row, 0..n-1"])),A("tut-color",new R("","return y-(n/2-0.5);",16,0,["positive numbers are white","negatives are red"])),A("tut-animate",new R("","return y-t;",16,1,["use 't' to animate values"])),A("tut-animate-faster",new R("","return y-t*2;",16,1,["multiply 't' to change the speed"])),A("tut-pattern",new R("","return [0.25, -0.5, 0.75, -1][i%4]",16,0,["Create patterns using arrays"])),A("tut-end",new R("","return sin(t)",16,1,["Edit the code to create your own","Have fun :)"]));export{S as C,C as a,E as g,M as t};
