import{S as t,i as n,s as e,u as i,w as r,x as s,d as a,A as u,f as o,B as h,F as c,n as l,L as d,p}from"./client.bfebb284.js";function w(t,n,e,i,r){t.fillStyle=r,t.beginPath(),t.arc(n,e,i,0,2*Math.PI),t.fill()}function y(t){let n,e,l,d;return{c(){n=i("canvas"),this.h()},l(t){n=r(t,"CANVAS",{width:!0,height:!0,class:!0}),s(n).forEach(a),this.h()},h(){u(n,"width",e=t[0]+","),u(n,"height",t[0]),u(n,"class","svelte-szljto")},m(e,i){o(e,n,i),t[10](n),l||(d=h(n,"click",t[11]),l=!0)},p(t,[i]){1&i&&e!==(e=t[0]+",")&&u(n,"width",e),1&i&&u(n,"height",t[0])},i:c,o:c,d(e){e&&a(n),t[10](null),l=!1,d()}}}function f(t,n,e){var i=this&&this.__awaiter||function(t,n,e,i){return new(e||(e=Promise))((function(r,s){function a(t){try{o(i.next(t))}catch(t){s(t)}}function u(t){try{o(i.throw(t))}catch(t){s(t)}}function o(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,u)}o((i=i.apply(t,n||[])).next())}))};let r,s,a,{time:u}=n,{speed:o}=n,{code:h}=n,{n:c}=n,{resolution:y=1800}=n,f=l();function m(t,n){s.clearRect(0,0,r.width,r.height);for(let r=0;r<n;r++)for(let o=0;o<n;o++){const h=(e=a(t,r*n+o,o,r,n),i=-1,u=1,Math.min(Math.max(e,i),u)),c=h<0?"#FF0000":"#FFFFFF";w(s,g+o*$,g+r*$,g*Math.abs(h),c)}var e,i,u}d((()=>i(void 0,void 0,void 0,(function*(){e(7,s=r.getContext("2d")),e(7,s.imageSmoothingEnabled=!0,s)}))));let x,g,$;return t.$$set=t=>{"time"in t&&e(3,u=t.time),"speed"in t&&e(4,o=t.speed),"code"in t&&e(5,h=t.code),"n"in t&&e(6,c=t.n),"resolution"in t&&e(0,y=t.resolution)},t.$$.update=()=>{if(24&t.$$.dirty&&e(8,x=u/1e4*o),65&t.$$.dirty&&e(9,g=y/c/2),512&t.$$.dirty&&($=2*g),32&t.$$.dirty)try{a=new Function("t","i","x","y","n",`\n\t\t\t\ttry {\n\t\t\t\t\twith(Math) {\n\t\t\t\t\t\t${h}\n\t\t\t\t\t};\n\t\t\t\t} catch(e) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t`)}catch(t){a=()=>1}224&t.$$.dirty&&s&&h&&m(1,c),464&t.$$.dirty&&s&&0!=o&&m(x,c)},[y,r,f,u,o,h,c,s,x,g,function(t){p[t?"unshift":"push"]((()=>{r=t,e(1,r)}))},()=>f("click")]}class m extends t{constructor(t){super(),n(this,t,f,y,e,{time:3,speed:4,code:5,n:6,resolution:0})}}class x{constructor(t,n,e=16,i=10,r=null){this.name=t,this.code=n,this.n=e,this.speed=i,this.comments=r||new Array(t)}}const g={},$=[],v=[];function b(t,n){g[t]=n,$.push(t)}function F(t,n){g[t]=n,v.push(t)}function k(t){return g[t]}b("sweep_up",new x("Sweep up","return sin(y/8+t);",16)),b("pulse",new x("Pulse","return sin(t);",16)),b("ripple_in",new x("Ripple In","return sin(sqrt(pow(n/2-x-0.5,2)+pow(n/2-y-0.5,2))+t);",16)),b("ripple_circ",new x("Circular Ripple","let radius = n/4;return sin(sqrt(pow(n/2-x-0.5+sin(t)*radius,2)+pow(n/2-y-0.5+cos(t)*radius,2))+t);",16)),b("triangle",new x("Triangle","return y+1>x && n-2-y<x;",16,0)),b("triangle-up",new x("Flying Triangle","let h=t*3%n;return y>x-h && y>n-1-x-h && y<n-h;",16)),b("grid",new x("Grid","return x%4 && y%4",16)),b("sirpinski",new x('<a href="https://en.wikipedia.org/wiki/Sierpi%C5%84ski_triangle">Sirpinski </a>',"return i & x & y & t*2",16)),F("tut-start",new x("","return sin(y/8+t);",16,10,['Inspired by <a href="https://tixy.land">tixy.land</a>',"Start the tutorial by clicking the dots"])),F("tut-visibility",new x("","return i%3 == 0;",16,0,["0/1 = false/true => hide/show dots"])),F("tut-scale",new x("","return abs(sin(x/3))",16,0,["use a number from 0 to 1 to define the dot size"])),F("tut-time",new x("","return sin(t);",16,10,["'t' is the time in seconds"])),F("tut-index",new x("","return i/pow(n,2);",16,0,["'i' is the index of the dot, from 0 to nÂ²-1"])),F("tut-x",new x("","return x/n;",16,0,["'x' is the column, 0..n-1"])),F("tut-y",new x("","return y/n;",16,0,["'y' is the row, 0..n-1"])),F("tut-color",new x("","return y-(n/2-0.5);",16,0,["positive numbers are white","negatives are red"])),F("tut-animate",new x("","return y-t;",16,10,["use 't' to animate values"])),F("tut-animate-faster",new x("","return y-t*2;",16,10,["multiply 't' to change the speed"])),F("tut-pattern",new x("","return [0.25, -0.5, 0.75, -1][i%4]",16,0,["Create patterns using arrays"])),F("tut-end",new x("","return sin(t)",16,10,["Edit the code to create your own","Have fun :)"]));export{m as C,$ as a,k as g,v as t};
